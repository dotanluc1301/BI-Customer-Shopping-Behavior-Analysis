##### Table of Content #####
1. Total Purchases and Purchase Frequency
  KPI Cards Layout
    Total Purchases
    Unique Customers
    Avg Purchases per Customer
    Repeat Purchase Rate
  Number of Customers by Purchase Frequency
  Purchase Frequency Segments
2. Top-Selling Products and Brands
  Top 5 Product Categories - Dual Metric View
  Top 5 Product Brands - Same Structure
  Rising Stars - Growth Analysis
    Fastest Growing Products/Brands (6-Month Comparison)
    Top 5 Product Categories by Revenue
3. Sales by Region and Time Period
  Country-Level Sales Trend:
    Monthly Sales Trend by Country
    Top 10 States/Cities by Revenue - 12 Month Trend
  Monthly Sales Performance
  Quarterly Comparison
4. Upsell/Cross-Sell Opportunities
  Product Category Co-Purchase Matrix (Heatmap)
  Top 10 Product Combinations
  Customer Segment Opportunity Analysis
  Low Basket Size Opportunities
#####################################################################################################
1. Total Purchases and Purchase Frequency
  Chart Type: Combination of KPI Cards + Histogram/Column Chart
    1a. Overview KPI Cards:
      Total Purchases
      Unique Customers
      Average Purchases per Customer
      Repeat Purchase Rate
    1b. Purchase Frequency Distribution - Column Chart:
      X-axis: Number of purchases (1, 2, 3, 4, 5, 6+)
      Y-axis: Number of customers
      Shows customer distribution across purchase frequencies
  Attributes Needed:
    Transaction_ID (count for total purchases)
    Customer_ID (count distinct, and count per customer)
    Total_Amount (for revenue context)
  Calculated Metrics:
    Total Purchases: COUNT(Transaction_ID)
    Unique Customers: COUNT_DISTINCT(Customer_ID)
    Avg Purchases per Customer: Total Purchases / Unique Customers
    Repeat Purchase Rate: (Customers with 2+ purchases / Total Customers) × 100
    Purchase Frequency Buckets: Group customers by transaction count
  What to Focus On:
    Customer engagement depth: How many customers are truly engaged (3+ purchases)?
    One-time buyer problem: What % bought only once? (Conversion opportunity)
    Loyal customer identification: Customers with 5+ purchases are your advocates
    Revenue concentration: Do repeat buyers drive most revenue?
  Recommendations:
    KPI Cards Layout:
      ┌──────────────────┬──────────────────┬──────────────────┬──────────────────┐
      │ Total Purchases  │ Unique Customers │ Avg Purchases    │ Repeat Purchase  │
      │                  │                  │ per Customer     │ Rate             │
      |──────────────────┼──────────────────┼──────────────────┼──────────────────┤
      │ XX,XXX           │ X,XXX            │ X.X              │ XX%              │
      └──────────────────┴──────────────────┴──────────────────┴──────────────────┘
    Number of Customers by Purchase Frequency
      Customers
            │
      X,XXX │     ████
            │     ████
            │     ████         ███
            │     ████         ███
            │     ████  ███    ███  ██   ██   █
            └─────┴─────┴──────┴────┴────┴────┴──
                1     2      3     4    5   6+
                    Number of Purchases
    Purchase Frequency Segments
      ┌─────────────────┬───────────┬────────────┬───────────────┬─────────────────────┐
      |Segment          | Customers | % of Total | Total Revenue | Avg Revenue/Customer|
      |─────────────────┼───────────┼────────────┼───────────────┼─────────────────────┤
      |One-time buyers  | X,XXX     | XX%        | $XXX,XXX      | $XXX                |
      |2-3 purchases    | X,XXX     | XX%        | $XXX,XXX      | $XXX                |
      |4-5 purchases    | XXX       | XX%        | $XXX,XXX      | $XXX                |
      |6+ purchases     | XXX       | XX%        | $XXX,XXX      | $XXX                |
      |(High-value)     |           |            |               |                     |
      └─────────────────┴───────────┴────────────┴───────────────┴─────────────────────┘
  Suggested Benchmarks:
    Healthy Repeat Rate: >30-40% (industry dependent)
    High-Value Customers: 6+ purchases = VIP segment (focus retention)
    At-Risk: One-time buyers with purchases >6 months ago = re-engagement target
    Sweet Spot: 3-5 purchases = engaged customers ready for loyalty program
  Color Coding:
    Red: 1 purchase (needs nurturing)
    Yellow: 2-3 purchases (developing relationship)
    Green: 4-5 purchases (engaged customers)
    Dark Green/Gold: 6+ purchases (VIP/loyal customers)

2. Top-Selling Products and Brands
  Chart Type: Combination Tables with Conditional Formatting + Horizontal Bar Charts
    2a. Top 5 by Revenue & Volume - Side-by-Side Comparison
      Option A: Dual Ranking Table
      - Left column: Top 5 by Revenue
      - Right column: Top 5 by Volume
      - Highlights mismatches (high volume but low revenue = discount products)
      Option B: Combined Horizontal Bar Chart
      - Primary bars: Revenue
      - Secondary metric displayed: Volume (as text or mini bar)
    2b. Rising Stars Analysis - Growth Chart: Products/brands with highest growth rate (comparing first 6 months vs last 6 months)
  Attributes Needed:
    Product_Category (level 1 analysis)
    Product_Brand (level 2 analysis)
    Total_Amount (SUM for revenue)
    Transaction_ID (COUNT for volume)
    Date (for growth trend analysis)
  What to Focus On:
    Revenue drivers: Which products/brands generate most income?
    Volume leaders: Which products/brands move fastest?
    Value analysis: High revenue + low volume = premium/high-value items
    Growth momentum: Which products are gaining traction?
    Portfolio balance: Over-dependency on few products = risk
  Recommendations:
    2a. Top 5 Product Categories - Dual Metric View:
      Top 5 Product Categories - Revenue vs Volume
      ┌━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┐
      |Rank | Category      | Revenue    | % of Total | Transactions | Avg Order Value|
      ┼─────┼───────────────┼────────────┼────────────┼──────────────┼────────────────┤
      |  1  | Category A    | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  2  | Category B    | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  3  | Category C    | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  4  | Category D    | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  5  | Category E    | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      ┼─────┴───────────────┴────────────┴────────────┴──────────────┴────────────────┤
      |     | TOTAL (Top 5) | $XXX,XXX   | XX%        | XX,XXX       |                |
      ┼─────┴───────────────┴────────────┴────────────┴──────────────┴────────────────┼
    2b. Top 5 Product Brands - Same Structure:
      Top 5 Product Brands - Revenue vs Volume
      ┌━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┐
      |Rank| Brand         | Revenue    | % of Total | Transactions | Avg Order Value|
      ┼────┼───────────────┼────────────┼────────────┼──────────────┼────────────────
      |  1  | Brand A      | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  2  | Brand B      | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  3  | Brand C      | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  4  | Brand D      | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
      |  5  | Brand E      | $XXX,XXX   | XX%        | X,XXX        | $XXX           |
    2c. Rising Stars - Growth Analysis:
      Fastest Growing Products/Brands (6-Month Comparison)
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      Product/Brand    | H1 Revenue | H2 Revenue | Growth %  | Status
      ─────────────────┼────────────┼────────────┼───────────┼─────────
      Brand/Cat X      | $XX,XXX    | $XX,XXX    | +XXX% 🔥  | Rising Star
      Brand/Cat Y      | $XX,XXX    | $XX,XXX    | +XX%  ↗️  | Growing
      Brand/Cat Z      | $XX,XXX    | $XX,XXX    | +XX%  ↗️  | Growing

      Visual Alternative - Horizontal Bar Chart:
      Top 5 Product Categories by Revenue
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      Category A  ████████████████ $XXX,XXX (X,XXX trans)
      Category B  █████████████    $XXX,XXX (X,XXX trans)
      Category C  ███████████      $XXX,XXX (X,XXX trans)
      Category D  █████████        $XXX,XXX (X,XXX trans)
      Category E  ███████          $XXX,XXX (X,XXX trans)
    Insight Boxes:
      💡 Key Insights:
        - Top 5 categories represent XX% of total revenue
        - [Category/Brand X] shows strongest growth at +XX%
        - Premium products: [List high AOV items]
        - Volume leaders: [List high transaction items]
      For Sales Team Action:
        Push high-margin items: Categories/brands with high AOV
        Bundle opportunities: Pair high-volume with high-margin products
        Inventory focus: Ensure top 5 are always well-stocked
        Training priority: Sales team should be experts on top performers

3. Sales by Region and Time Period
  Chart Type: Multi-Component Dashboard
    3a. Sales by Country Over Time - Multi-Line Chart:
    - X-axis: Months (Mar 2023 - Feb 2024)
    - Y-axis: Revenue
    - Multiple lines: One per country (if multiple countries in dataset)
    - If only one country, show by state/top cities
    3b. Monthly Sales Trend - Line + Bar Combo Chart:
    - Bars: Monthly revenue
    - Line: 3-month moving average (smooths seasonality)
    3c. Quarterly Performance - Grouped Bar Chart:
    - Q1 2023 (Mar-May), Q2 (Jun-Aug), Q3 (Sep-Nov), Q4 (Dec-Feb)
    - Compare quarters by country/region
  Attributes Needed:
    Country (primary geographic dimension)
    State or City (if drilling down within country)
    Date (formatted to Month-Year and Quarter)
    Total_Amount (SUM for revenue)
    Transaction_ID (COUNT for volume)
  What to Focus On:
    Geographic concentration: Is revenue concentrated in specific regions?
    Seasonal patterns: Do certain months/quarters perform better?
    Regional growth rates: Which regions are growing fastest?
    Market penetration: Low revenue regions = expansion opportunity
    Consistency: Stable regions vs volatile regions
  Recommendations:
    3a. Country-Level Sales Trend:
      Monthly Sales Trend by Country
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      Revenue
      $XXX,XXX │            ●●●●●● Country A
              │        ●●●●
              │    ●●●●              ▲▲▲▲▲▲ Country B
              │●●●●                ▲▲▲▲
              │                  ▲▲▲▲
              └─────────────────────────────────────────
              Mar  May  Jul  Sep  Nov  Jan  Feb
              2023                      2024
      If Single Country - State/City View:
      Top 10 States/Cities by Revenue - 12 Month Trend
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      State/City    | Total Revenue | Q1    | Q2    | Q3    | Q4    | Trend
      ──────────────┼───────────────┼───────┼───────┼───────┼───────┼──────
      California    | $XXX,XXX      | $XX,K | $XX,K | $XX,K | $XX,K | ↗️
      New York      | $XXX,XXX      | $XX,K | $XX,K | $XX,K | $XX,K | →
      Texas         | $XXX,XXX      | $XX,K | $XX,K | $XX,K | $XX,K | ↗️
    3b. Monthly Sales Performance:
      Monthly Revenue with Moving Average
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      Revenue
      $XXX,XXX │  ▓▓          ▓▓▓▓
              │  ▓▓    ▓▓    ▓▓▓▓    ▓▓▓▓  ▓▓▓▓
              │  ▓▓    ▓▓    ▓▓▓▓    ▓▓▓▓  ▓▓▓▓
              │  ▓▓▓▓  ▓▓▓▓  ▓▓▓▓▓▓  ▓▓▓▓  ▓▓▓▓  
              │  ▓▓▓▓  ▓▓▓▓  ▓▓▓▓▓▓  ▓▓▓▓▓▓▓▓▓▓  ▓▓▓▓
              └────────────────────────────────────────
              M A M J J A S O N D J F
              ══ Monthly Revenue  ── 3-Month Avg
    3c. Quarterly Comparison:
      Quarterly Sales Performance by Region
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
                Q1 2023   Q2 2023   Q3 2023   Q4 2023
                (Mar-May) (Jun-Aug) (Sep-Nov) (Dec-Feb)
      Region A  ████      █████     ██████    ███████
      Region B  ███       ████      ████      █████
      Region C  ██        ███       ████      ████
      Growth Rate by Quarter:
      Q1→Q2: +X%  |  Q2→Q3: +X%  |  Q3→Q4: +X%
      Geographic Heatmap (Alternative):
        - If data supports it, create a map visualization
        - Color intensity = revenue amount
        - Quick visual of geographic distribution
    Insight Summary Box:
      📊 Regional Performance Insights:
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
        - Strongest Region: [Region X] - $XXX,XXX (XX% of total)
        - Fastest Growing: [Region Y] - +XX% quarter-over-quarter
        - Peak Month: [Month] - $XXX,XXX
        - Weakest Quarter: Q[X] - Action needed
        - Seasonality Pattern: [Description, e.g., "Strong Q4, weak Q1"]
    For Sales Team Action:
      Focus high-potential regions: Growing markets need support
      Seasonal preparation: Plan inventory and promotions for peak periods
      Underperforming regions: Identify barriers (competition, awareness, logistics)
      Territory optimization: Allocate sales resources based on revenue potential

4. Upsell/Cross-Sell Opportunities
Chart Type: Market Basket Analysis + Opportunity Matrix
  4a. Product Category Combinations - Heatmap/Matrix:
  - Rows: Product Category
  - Columns: Product Category
  - Cell values: Number of transactions where both categories were purchased together
  - Color intensity: Frequency of co-purchase
  4b. Top Product Combinations - Table:
  - Lists most frequent product pairs/combinations
  - Shows lift (how much more likely products are bought together vs separately)
  4c. Customer Segment Opportunities - Gap Analysis:
  - Shows which customer segments buy only certain categories
  - Identifies expansion opportunities
Attributes Needed:
  Transaction_ID (to group products bought together)
  Customer_ID (to analyze customer purchase patterns)
  Product_Category or Product_Brand
  Product_Type (for deeper analysis)
  Total_Amount (to calculate revenue opportunity)
  Customer_Segment (for targeted recommendations)
Analysis Approach:
  1. Products Frequently Bought Together: Identify combinations
  2. Customer Segments Buying Only Certain Categories: Find gaps
  3. Low Average Basket Size: Opportunities to increase per-transaction value
What to Focus On:
  Natural pairings: Which products are commonly bought together?
  Bundle opportunities: Create product bundles based on data
  Cross-category selling: Move customers from one category to another
  Basket size optimization: How to increase items per transaction?
  Customer segment targeting: Which segments have room to expand?
Recommendations:
  4a. Product Category Co-Purchase Matrix (Heatmap):
    Product Category Cross-Purchase Analysis
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
                 Category A | Category B | Category C | Category D | Category E
    ───────────┼────────────┼────────────┼────────────┼────────────┼───────────
    Category A │     -      │    245     │    189     │    98      │    156
    Category B │    245     │     -      │    312     │    167     │    203
    Category C │    189     │    312     │     -      │    234     │    278
    Category D │    98      │    167     │    234     │     -      │    145
    Category E │    156     │    203     │    278     │    145     │     -
  
    🔥 = High frequency (>200 co-purchases)
    ⚠️  = Medium frequency (100-200)
    ○  = Low frequency (<100)
    Color Coding in Looker:
      - Dark Green: >200 co-purchases (strong affinity)
      - Light Green: 100-200 (moderate affinity)
      - Yellow: 50-100 (weak affinity)
      - Gray: <50 (little to no relationship)
  4b. Top 10 Product Combinations:
    Most Frequent Product Pairings (Cross-Sell Opportunities)
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Rank | Product Pair              | Co-Purchases | % of Trans | Avg Combined Value
    ─────┼───────────────────────────┼──────────────┼────────────┼───────────────────
      1  | Category B + Category C   |     312      |    XX%     |      $XXX
      2  | Category C + Category E   |     278      |    XX%     |      $XXX
      3  | Category B + Category A   |     245      |    XX%     |      $XXX
      4  | Category C + Category D   |     234      |    XX%     |      $XXX
      5  | Category B + Category E   |     203      |    XX%     |      $XXX
      6  | Category C + Category A   |     189      |    XX%     |      $XXX
      7  | Category B + Category D   |     167      |    XX%     |      $XXX
      8  | Category A + Category E   |     156      |    XX%     |      $XXX
      9  | Category D + Category E   |     145      |    XX%     |      $XXX
     10  | Category A + Category D   |     98       |    XX%     |      $XXX
  4c. Customer Segment Opportunity Analysis:
    Customer Segment Purchase Pattern & Expansion Opportunities
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Segment      | Primary      | Secondary    | Rarely Buy   | Opportunity
                | Categories   | Categories   | (Upsell)     | Score
    ─────────────┼──────────────┼──────────────┼──────────────┼────────────────
    Premium      | Cat A, B     | Cat C        | Cat D, E     | 🎯 High
    Standard     | Cat C        | Cat E        | Cat A, B, D  | 🎯🎯 Very High
    Budget       | Cat E        | -            | Cat A,B,C,D  | 🎯 High
    Occasional   | Cat B, C     | Cat A        | Cat D, E     | ⚠️  Medium
    
    Analysis Breakdown:
      Primary: Categories this segment frequently buys
      Secondary: Categories occasionally purchased
      Rarely Buy: Clear cross-sell opportunities
      Opportunity Score: Based on revenue potential and gap size
  4d. Low Basket Size Opportunities:
    Customers with Single-Category Purchases (Upsell Targets)
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
    Only Buying       |  Customers | Total Revenue | Avg Order Value | Recommend
    ──────────────────┼─────────────┼───────────────┼─────────────────┼──────────────
    Category A only   |     XXX     |   $XX,XXX     |      $XXX       | + Cat B, C
    Category B only   |     XXX     |   $XX,XXX     |      $XXX       | + Cat C, E
    Category C only   |     XXX     |   $XX,XXX     |      $XXX       | + Cat B, E
    Category D only   |     XXX     |   $XX,XXX     |      $XXX       | + Cat C
    Category E only   |     XXX     |   $XX,XXX     |      $XXX       | + Cat B, C
    Actionable Insights Box:
      💰 Upsell/Cross-Sell Action Plan:
      ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
      🎯 Bundle Recommendations:
        • "Bestseller Bundle": Cat B + Cat C (312 customers already buy together)
        • "Complete Collection": Cat C + Cat E + Cat B
        • "Starter Pack": Cat A + Cat B
      📧 Targeted Cross-Sell Campaigns:
        • Premium Segment: Promote Cat D & E (rarely purchased)
        • Budget Segment: Introduce Cat A & B (premium products with financing)
        • Single-category buyers: Send personalized recommendations
      💡 Sales Training Focus:
        • Train on pairing Cat B with Cat C (natural fit)
        • Emphasize value of adding Cat E to Cat C purchases
        • Develop scripts for moving customers across categories
      📊 Potential Revenue Impact:
        • If 10% of single-category buyers add one more: +$XX,XXX
        • If basket size increases by 1 item: +XX% revenue
        
1. Identify transactions with multiple categories
CASE 
  WHEN COUNT(DISTINCT Product_Category) OVER (PARTITION BY Transaction_ID) > 1 
  THEN 'Multi-Category'
  ELSE 'Single-Category'
END

2. For Product Pairs:
   - Self-join on Transaction_ID where Product_Category differs
   - Count frequency of each pair
   - Filter for meaningful combinations (>minimum threshold)

3. Purchase Frequency per Customer:
COUNT(Transaction_ID) OVER (PARTITION BY Customer_ID)

4. Repeat Customer Flag:
CASE 
  WHEN COUNT(Transaction_ID) OVER (PARTITION BY Customer_ID) >= 2 
  THEN 'Repeat' 
  ELSE 'One-time' 
END

5. Quarter Calculation:
CASE 
  WHEN MONTH(Date) IN (3,4,5) THEN 'Q1 2023'
  WHEN MONTH(Date) IN (6,7,8) THEN 'Q2 2023'
  WHEN MONTH(Date) IN (9,10,11) THEN 'Q3 2023'
  WHEN MONTH(Date) IN (12,1,2) THEN 'Q4 2023'
END

6. Growth Rate (Period over Period):
(Current Period Revenue - Previous Period Revenue) / Previous Period Revenue  100

For Sales Team Action - Summary Checklist:
  ✅ Daily Focus:
    Monitor purchase frequency trends
    Track top-performing products
    Review regional performance
  ✅ Weekly Actions:
    Identify customers ready for upsell (based on purchase history)
    Review product combination opportunities
    Adjust inventory based on top sellers
  ✅ Monthly Strategy:
    Analyze seasonal trends for next month
    Launch targeted cross-sell campaigns
    Review and optimize underperforming regions
  ✅ Quarterly Planning:
    Evaluate product portfolio performance
    Plan regional expansion/focus areas
    Develop bundle and promotion strategies based on data